<h2>Edit {{datastream.title}}</h2>
<form [formGroup]="dataStreamForm" (ngSubmit)="onSubmit()">
    <fieldset>

      <!-- Text input-->
      <div class="form-group row">
        <label class="col-md-3 control-label" for="title">Datastream Title*</label>
        <div class="col-md-9">
          <input id="title" name="title" type="text" placeholder="Title" class="form-control input-md"
                                 [class.has-error]="titleCtrl.touched && titleCtrl.hasError('required')"
                                 [formControl]="dataStreamForm.controls['title']"
                                 [(ngModel)]="datastream.title">
          <div *ngIf="titleCtrl.touched && titleCtrl.hasError('required')" class="label-warning">
            A title is required
          </div>
        </div>
      </div>

      <!-- Textarea -->
      <div class="form-group row">
        <label class="col-md-3 control-label" for="description">Datastream Description</label>
        <div class="col-md-9">
          <textarea class="form-control" id="description" name="description" placeholder="Description"
                     +                  [formControl]="dataStreamForm.controls['description']"
                     +                  [(ngModel)]="datastream.description"></textarea>
        </div>
      </div>

      <!-- Stream selection -->
      <div class="form-group row">
        <label class="col-md-3 control-label" for="stream">Datastream Selection</label>
        <div class="col-md-9">
          <textarea type="text" id="stream" autofocus="" placeholder="Stream Name" (change)="addDataStream($event)" #stream></textarea>
        </div>
      </div>

      <div *ngIf="errorMessage" class="form-group row">
        <div class="col-md-3"></div>
        <div class="label-danger col-md-9">{{ errorMessage }}</div>
      </div>

      <!-- Button -->
      <div class="form-group row">
        <div class="col-md-3"></div>
        <div class="col-md-9">
          <button id="createDataStream" name="createDataStream" type="submit"
                   +                class="btn btn-success pull-right" [disabled]="!dataStreamForm.valid">Save</button>
        </div>
      </div>

    </fieldset>
  </form>
